# Complete Workflow Guide

## Visual Guide to Starting, Using, and Stopping the Server

---

## ğŸ¬ Complete Workflow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    START THE SERVER                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â†“                   â†“                   â†“
   First Time?         Daily Use?         Quick Test?
        â”‚                   â”‚                   â”‚
        â†“                   â†“                   â†“
setup_and_start.bat  kill_and_start.bat  start_real_test.bat
        â”‚                   â”‚                   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              SERVER RUNNING ON PORT 8888                     â”‚
â”‚         http://localhost:8888 is now available               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â†“                   â†“                   â†“
  Main Dashboard    Parallel Execution    API Endpoints
        â”‚                   â”‚                   â”‚
        â†“                   â†“                   â†“
  Single Tests      Multiple Tests       Status/Config
        â”‚                   â”‚                   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   EXECUTE TESTS                              â”‚
â”‚         Monitor logs, view progress, get results             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   STOP THE SERVER                            â”‚
â”‚                   Press Ctrl+C                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“‹ Step-by-Step: Parallel Execution

### Step 1: Start Server

```bash
# Open Command Prompt
cd C:\Test Automation\Latest\SalesforceAutomationRecorder

# Run batch file
kill_and_start.bat
```

**Expected Output:**
```
======================================================================
  Killing processes on port 8888 and starting fresh
======================================================================
Stopping any process on port 8888...
  Done
Setting Gemini API Key...
  API Key: SET
======================================================================
  Starting Server on Port 8888
======================================================================
[OK] Google Gemini enabled!
INFO:     Uvicorn running on http://0.0.0.0:8888 (Press CTRL+C to quit)
```

---

### Step 2: Open Browser

```
Navigate to: http://localhost:8888
```

**You'll see:**
- Main Dashboard
- "ğŸš€ Parallel Execution" button in header

---

### Step 3: Navigate to Parallel Execution

```
Click: "ğŸš€ Parallel Execution" button
```

**You'll see:**
- Configuration section
- Number of Parallel Executions input
- Generate Forms button

---

### Step 4: Configure Parallel Count

```
1. Enter number: 2 (or any number 1-10)
2. Click: "ğŸ”„ Generate Forms"
```

**Result:**
- Forms appear for each instance
- URL inputs
- Credential inputs
- Test step sections

---

### Step 5: Fill Instance 1

```
URL 1: https://www.google.com
Username 1: (leave empty for Google)
Password 1: (leave empty for Google)

Test Steps for Instance 1:
fill search with Playwright automation
click Google Search button
wait for 2 seconds
```

---

### Step 6: Fill Instance 2

```
URL 2: https://www.google.com
Username 2: (leave empty for Google)
Password 2: (leave empty for Google)

Test Steps for Instance 2:
fill search with Selenium testing
click Google Search button
wait for 2 seconds
```

---

### Step 7: Execute Tests

```
Click: "â–¶ï¸ Execute All Tests in Parallel"
```

**What happens:**
1. WebSocket connection established
2. Both instances start simultaneously
3. Real-time log updates appear
4. Progress bar updates
5. Each step is logged with instance number

---

### Step 8: Monitor Execution

**Watch for:**
- ğŸ¬ Instance X: Starting test on URL
- ğŸ“ Instance X - Step Y: [step text]
- âœ… Instance X - Step Y succeeded
- ğŸ‰ Instance X: Test completed successfully
- ğŸ All parallel tests completed!

**Progress Bar shows:**
- 0% â†’ 50% â†’ 100%
- "2/2 tests completed"

---

### Step 9: Review Results

**Check:**
- Execution log for any errors
- Screenshots saved as:
  - `parallel_test_instance_1.png`
  - `parallel_test_instance_2.png`
- Console output for detailed logs

---

### Step 10: Stop Server (When Done)

```
In the terminal window:
Press: Ctrl+C
```

**Expected Output:**
```
^C
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [PID]
```

---

## ğŸ¯ Decision Flow Chart

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Need to Start Server?                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
                    Is this first time?
                            â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               YES                      NO
                â”‚                        â”‚
                â†“                        â†“
        setup_and_start.bat    Is server already running?
                                        â”‚
                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                           YES                      NO
                            â”‚                        â”‚
                            â†“                        â†“
                    kill_and_start.bat      start_real_test.bat
                            â”‚                        â”‚
                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  SERVER IS RUNNING                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
                    Choose your task:
                            â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â†“                   â†“                   â†“
  Single Test       Parallel Tests      Configuration
        â”‚                   â”‚                   â”‚
        â†“                   â†“                   â†“
localhost:8888    /parallel-execution    /api/...
```

---

## ğŸ”„ Common Workflows

### Workflow 1: Daily Testing

```bash
# Morning: Start server
kill_and_start.bat

# Work: Run tests throughout the day
# (Browser: http://localhost:8888/parallel-execution)

# Evening: Stop server
Ctrl+C
```

---

### Workflow 2: First Time Setup

```bash
# Step 1: Full setup
setup_and_start.bat

# Step 2: Test basic functionality
# Open: http://localhost:8888

# Step 3: Try parallel execution
# Open: http://localhost:8888/parallel-execution

# Step 4: Stop when done
Ctrl+C
```

---

### Workflow 3: After Code Update

```bash
# Step 1: Pull latest code
git pull

# Step 2: Reinstall dependencies
setup_and_start.bat

# Step 3: Test new features
# Open: http://localhost:8888/parallel-execution

# Step 4: Stop server
Ctrl+C
```

---

### Workflow 4: Quick Test

```bash
# Step 1: Quick start (if no server running)
start_real_test.bat

# Step 2: Run quick test
# Open: http://localhost:8888

# Step 3: Stop
Ctrl+C
```

---

### Workflow 5: Troubleshooting

```bash
# Step 1: Check if server is running
netstat -ano | findstr :8888

# Step 2: Kill if needed
taskkill /F /PID <PID>

# Step 3: Fresh start
kill_and_start.bat

# Step 4: Verify
# Open: http://localhost:8888
```

---

## ğŸ¨ Visual Process Map

```
START
  â”‚
  â”œâ”€â†’ [Open Terminal]
  â”‚
  â”œâ”€â†’ [Navigate to Project Directory]
  â”‚     cd C:\Test Automation\Latest\SalesforceAutomationRecorder
  â”‚
  â”œâ”€â†’ [Choose Batch File]
  â”‚     â”œâ”€ First time? â†’ setup_and_start.bat
  â”‚     â”œâ”€ Daily use? â†’ kill_and_start.bat
  â”‚     â””â”€ Quick test? â†’ start_real_test.bat
  â”‚
  â”œâ”€â†’ [Wait for Server Start]
  â”‚     Look for: "Uvicorn running on http://0.0.0.0:8888"
  â”‚
  â”œâ”€â†’ [Open Browser]
  â”‚     http://localhost:8888
  â”‚
  â”œâ”€â†’ [Choose Mode]
  â”‚     â”œâ”€ Single Test â†’ Main Dashboard
  â”‚     â””â”€ Parallel Test â†’ Click "Parallel Execution"
  â”‚
  â”œâ”€â†’ [Configure Tests]
  â”‚     â”œâ”€ Set parallel count
  â”‚     â”œâ”€ Generate forms
  â”‚     â”œâ”€ Fill URLs
  â”‚     â”œâ”€ Fill credentials
  â”‚     â””â”€ Enter test steps
  â”‚
  â”œâ”€â†’ [Execute Tests]
  â”‚     Click "Execute All Tests in Parallel"
  â”‚
  â”œâ”€â†’ [Monitor Execution]
  â”‚     â”œâ”€ Watch real-time log
  â”‚     â”œâ”€ Monitor progress bar
  â”‚     â””â”€ Check for errors
  â”‚
  â”œâ”€â†’ [Review Results]
  â”‚     â”œâ”€ Check execution log
  â”‚     â”œâ”€ View screenshots
  â”‚     â””â”€ Verify success
  â”‚
  â””â”€â†’ [Stop Server]
        Press Ctrl+C in terminal
        
END
```

---

## ğŸ“Š Parallel Execution Flow

```
USER ACTION                    SYSTEM RESPONSE
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Enter parallel count (2)
    â”‚
    â”œâ”€â”€â†’ Generate Forms â”€â”€â”€â”€â”€â”€â†’ Create 2 URL inputs
    â”‚                           Create 2 credential inputs
    â”‚                           Create 2 test step sections
    â”‚
Fill Instance 1 details
Fill Instance 2 details
    â”‚
    â”œâ”€â”€â†’ Click Execute â”€â”€â”€â”€â”€â”€â”€â†’ Send to backend API
    â”‚                           Create 2 executors
    â”‚                           Start 2 browser sessions
    â”‚
    â”‚                           Instance 1: Start browser
    â”‚                           Instance 2: Start browser
    â”‚                           â†“
    â”‚                           Instance 1: Execute Step 1
    â”‚                           Instance 2: Execute Step 1
    â”‚                           â†“
    â”‚                           Instance 1: Execute Step 2
    â”‚                           Instance 2: Execute Step 2
    â”‚                           â†“
    â”‚                           Instance 1: Complete âœ…
    â”‚                           Instance 2: Complete âœ…
    â”‚                           â†“
    â”‚                           Take screenshots
    â”‚                           Close browsers
    â”‚                           Send completion message
    â”‚
    â””â”€â”€â†’ View Results â”€â”€â”€â”€â”€â”€â”€â”€â†’ Display logs
                                Show progress: 100%
                                Show success message
```

---

## ğŸ› ï¸ Troubleshooting Flow

```
PROBLEM: Server won't start
    â”‚
    â”œâ”€â†’ Check: Is port 8888 in use?
    â”‚     netstat -ano | findstr :8888
    â”‚     â”‚
    â”‚     â”œâ”€â†’ YES: Kill process
    â”‚     â”‚   taskkill /F /PID <PID>
    â”‚     â”‚   Then: kill_and_start.bat
    â”‚     â”‚
    â”‚     â””â”€â†’ NO: Check dependencies
    â”‚         pip list | findstr playwright
    â”‚         â”‚
    â”‚         â””â”€â†’ Missing: setup_and_start.bat

PROBLEM: Dependencies missing
    â”‚
    â””â”€â†’ Run: setup_and_start.bat
        Wait for completion
        Verify: pip list

PROBLEM: Playwright not found
    â”‚
    â””â”€â†’ Run: playwright install chromium
        Or: setup_and_start.bat

PROBLEM: Tests failing
    â”‚
    â”œâ”€â†’ Check execution log
    â”œâ”€â†’ Verify URLs are correct
    â”œâ”€â†’ Check test step syntax
    â””â”€â†’ Review console output
```

---

## ğŸ“ Checklist

### Before Starting
- [ ] Python 3.8+ installed
- [ ] In correct directory
- [ ] Terminal open
- [ ] No other server on port 8888

### Starting Server
- [ ] Choose appropriate batch file
- [ ] Run batch file
- [ ] Wait for "Uvicorn running" message
- [ ] Verify in browser (http://localhost:8888)

### Running Parallel Tests
- [ ] Navigate to parallel execution page
- [ ] Set parallel count
- [ ] Generate forms
- [ ] Fill all URLs
- [ ] Fill credentials (if needed)
- [ ] Enter test steps
- [ ] Click execute
- [ ] Monitor progress

### After Execution
- [ ] Review execution log
- [ ] Check screenshots
- [ ] Verify all tests completed
- [ ] Note any errors
- [ ] Stop server (Ctrl+C)

---

## ğŸ“ Tips & Best Practices

### Starting Server
âœ… Use `kill_and_start.bat` for daily work
âœ… Use `setup_and_start.bat` after updates
âœ… Check console for error messages
âœ… Verify server is accessible

### Running Tests
âœ… Start with 2-3 parallel executions
âœ… Use descriptive test step names
âœ… Monitor system resources
âœ… Review logs after execution

### Stopping Server
âœ… Always use Ctrl+C when possible
âœ… Wait for graceful shutdown
âœ… Verify server stopped (netstat)
âœ… Kill process only if necessary

---

## ğŸš€ Quick Commands

```bash
# Start server (daily use)
kill_and_start.bat

# Open parallel execution
start http://localhost:8888/parallel-execution

# Check if running
netstat -ano | findstr :8888

# Stop server
# Press Ctrl+C in terminal

# Kill if stuck
taskkill /F /PID <PID>
```

---

## ğŸ“š Related Documentation

- **PARALLEL_EXECUTION_GUIDE.md** - Complete parallel execution guide
- **START_STOP_GUIDE.md** - Detailed start/stop instructions
- **QUICK_REFERENCE.md** - Quick command reference
- **README.md** - Full project documentation
- **UPDATES_SUMMARY.md** - Recent changes summary

---

**Ready to Start?**

```bash
kill_and_start.bat
```

Then open: http://localhost:8888/parallel-execution

Happy Testing! ğŸ‰
